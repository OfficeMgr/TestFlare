<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:fileTags="RoboHelpCheckList.Ran Smart Index" MadCap:lastBlockDepth="12" MadCap:lastHeight="844" MadCap:lastWidth="818">
    <head>
        <meta http_equiv="Content-Language" content="en-us" /><title>CDS180 - Execute Operating System Command</title>
        <link rel="stylesheet" type="text/css" href="Resources/Stylesheets/tools.css" />
    </head>
    <body>
        <p class="SectionName">CDS180</p>
        <table class="revision">
            <tr>
                <td>
                    <p class="SectionTitle">System Call</p>
                </td>
                <td align="right"><a target="_blank" href="http://dynaweb.excellware.com/cgi-bin/tools.cgi?p=r&amp;pgm=CDS180">Last Revised: 06/19/13</a>
                </td>
            </tr>
        </table>
        <p class="SectionDesc">This program is used to execute an operating system 
command.&#160; It functions on both Unix and Windows systems, and can also be used to execute a command across a pro5 or bbj data server, and on a bbj thin client workstation.</p>
        <p>It is recommended to use this routine instead of using the bbx SCALL function, since it can 
capture any error messages and display them and return these messages to the calling 
program.</p>
        <p>Calling format:</p>
        <p><code>CALL "CDS180", ERR=LABEL, CMD$,{ S180$, EX, ERRTXT$ }</code>
        </p>
        <table>
            <tr>
                <th colspan="2">CDS180</th>
            </tr>
            <tr>
                <td class="nowrapcode">LABEL
</td>
                <td>Line to branch to if the execution is unsuccessful.&#160; The <code>ERR</code> 
 variable will be set to 199.</td>
            </tr>
            <tr>
                <td class="nowrapcode">CMD$</td>
                <td>The command to be executed.&#160; On Windows systems CDS180 will add the 
 appropriate command processor as required.</td>
            </tr>
            <tr>
                <td class="nowrapcode">S180$</td>
                <td>
                    <table style="width: 100%;">
                        <col style="width: 46px;" />
                        <col />
                        <tbody>
                            <tr>
                                <td>(1,1)</td>
                                <td>Display Error Message<br /><table><col /><col /><tbody><tr><td class="nowrapcode">"Y"</td><td>Display any error message generated by the command in a window. Ignored if running in a background task without a display device.</td></tr><tr><td class="nowrapcode">"N"</td><td>Do not display any error messages. This is the default value.</td></tr></tbody></table></td>
                            </tr>
                            <tr>
                                <td>(2,1)</td>
                                <td>Execution Location<br /><table><col /><col /><tbody><tr><td class="nowrapcode">"S"</td><td>Execute using <code>SCALL()</code>, this is the default value. &#160;This is the server that is running the bbx or bbj interpreter, or the Windows PC if running VPro5.</td></tr><tr><td class="nowrapcode">"D"</td><td>Execute on data server specified in SMSDIR. Same as <code>"S"</code>&#160;option if SMSDIR&#160;does not include data server syntax.</td></tr><tr><td class="nowrapcode">"C"</td><td>Execute on bbj thin client, i.e., on workstation. Same as <code>"S"</code> if not running bbj thin client.</td></tr></tbody></table></td>
                            </tr>
                        </tbody>
                    </table>
                </td>
            </tr>
            <tr>
                <td class="nowrapcode">EX</td>
                <td>The exit status code.&#160; Many commands, especially on unix systems 
 generate an exit status or result code.&#160; This code is typically zero if the command was 
 successful.&#160; If unsuccessful, then the exit status code may indicate 
 the reason for the error.</td>
            </tr>
            <tr>
                <td class="nowrapcode">ERRTXT$</td>
                <td>Any text output created by the command is returned to the calling 
 program in this variable.</td>
            </tr>
        </table>
        <table class="example">
            <tr>
                <td>Example</td>
            </tr>
            <tr>
                <td><code>2380 CALL "CDS180",ERR=2510,"tar cf - "+S187.RELNAME$+" | gzip 
		&gt; "+TARFILE$,"YS",EX,ERRTXT$</code>
                </td>
            </tr>
        </table>
        <table class="example">
            <tr>
                <td>Example</td>
            </tr>
            <tr>
                <td><code>3480 CALL "CDS180",ERR=3500,"gzip -dc "+TARFILE$+" | tar "+TARDIR$+"-xf 
		-","YS",EX,ERRTXT$</code>
                </td>
            </tr>
        </table>
    </body>
</html>